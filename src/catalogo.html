<!DOCTYPE html>
<html ng-app="Shop">

<head>
    <meta charset=utf-8 />
    <title>Catálogo</title>
    <link rel="stylesheet" href="style/bootstrap.min.css">
    <link rel="stylesheet" href="style/style.css">
    <script src="js/jquery-2.2.2.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/angular.min.js"></script>
    <script src="js/controller.js"></script>
</head>

<body ng-controller="catalogController">
    <div class="container-fluid">
        <div class="row">
            <nav class="navbar navbar-default">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="index.html">Librería <span class="glyphicon glyphicon-book" aria-hidden="true"></span></a>
                    </div>
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav">
                            <li><a href="qs.html">Quiénes somos <span class="glyphicon glyphicon-info-sign"></span></a></li>
                            <li><a href="contacto.html">Contáctenos <span class="glyphicon glyphicon-phone-alt"></span></a></li>
                            <li><a href="#">Link 4</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div>

    <div class="container-fluid">
        <div class="container">
            <div class="row">
                <div class="page-header">
                    <h1>Librería Virtual <small>Catálogo</small></h1>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="container">
            <div class="row filter_row">
                <div class="col-xs-12 col-sm-12 col-md-12">
                    <form class="form-inline">
                        <label for="Buscar">Buscar:</label>
                        <input type="text" class="form-control" id="Buscar" ng-model="searchBook">
                    </form>
                </div>
            </div>
            <div class="row">
                <div class="col-md-8">
                    <div class="row">
                        <div class="col-md-4 col-sm-4 col-xs-12" ng-repeat="book in bookStore.books | filter:searchBook">
                            <div class="well">
                                <div class="row">
                                    <h4 class="text-center">{{book.title}}</h4>
                                </div>
                                <div class="row">
                                    <p class="text-center">
                                        <a data-toggle="modal" data-target="#cover" ng-click="bookStore.selected = book"><img src="{{book.cover}}" class="img-responsive grow"></a>
                                    </p>
                                </div>
                                <div class="row">
                                    <p class="text-center">&#8353;{{book.price}}</p>
                                </div>
                                <div class="row">
                                    <p class="text-center"><a class="btn btn-primary" href="" role="button" ng-click="addToCart(book);">Agregar a carrito <span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span></a></p>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix" ng-if="$index%3==2"></div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="row text-center">
                        <div class="col-md-12">
                            <h2>Carrito <span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span></h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 cart">
                            <div ng-if="cart.length" class="shopping-cart">
                                <h4>{{cart.length}} libro(s) en carrito, &#8353;{{getCartPrice()}}</h4>
                                <span ng-repeat="product in cart">
                                    <img ng-src="{{product.cover}}">
                                    <span class="badge" ng-show="product.quantity > 1">x{{product.quantity}}</span>
                                </span>
                                <p class="chkout-btn">
                                    <button class="btn btn-primary" ng-click="checkout()">Confirmar <span class="glyphicon glyphicon-check"></span></button>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" tabindex="-1" role="dialog" id="cover">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title">{{bookStore.selected.title}}</h4>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-xs-4 col-sm-4 col-md-4"><img src="{{bookStore.selected.cover}}" class="img-responsive grow"></div>
                                <div class="col-xs-8 col-sm-8 col-md-8">
                                    <p>Autor: {{bookStore.selected.author}}
                                        <br> Idioma: {{bookStore.selected.language}}
                                        <br> Editorial: {{bookStore.selected.publisher}}
                                        <br> Precio: &#8353;{{bookStore.selected.price}}
                                        <br> Publicado: {{bookStore.selected.published}}
                                    </p>
                                </div>
                            </div>
                        </div>
                        <!--
                        <div class="modal-footer">
    <button type="button" class="btn btn-primary">Agregar a carrito</button>
</div>
-->
                    </div>
                </div>
            </div>
</body>

</html>